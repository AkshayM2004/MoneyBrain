<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoneyBrain – Advanced Financial Calculator for students and employees</title>

<style>
body{
  margin:0;
  background:#0b1220;
  font-family:system-ui,Segoe UI,Roboto;
  color:#fff;
}

.container{
  max-width:1000px;
  margin:40px auto;
  padding:20px;
}

h1{
  margin-bottom:6px;
}
.subtitle{
  color:#a9b3c7;
  margin-bottom:20px;
}

/* Tabs */
.tabs{
  display:flex;
  gap:6px;
}
.tab{
  padding:10px 16px;
  background:#1c2b4a;
  cursor:pointer;
  border-radius:8px 8px 0 0;
  font-weight:600;
}
.tab.active{
  background:#2f80ed;
}

/* Panel */
.panel{
  background:#111c36;
  border-radius:0 12px 12px 12px;
  padding:20px;
  display:grid;
  grid-template-columns:1fr 300px;
  gap:20px;
}

.form label{
  display:block;
  margin-top:12px;
  font-size:14px;
}
.form input{
  width:100%;
  padding:9px;
  border-radius:6px;
  border:none;
  margin-top:4px;
  font-size:14px;
}

/* Buttons */
.buttons{
  margin-top:18px;
  display:flex;
  gap:10px;
}
button{
  padding:10px 18px;
  border:none;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
}
.calc{
  background:#27ae60;
  color:#000;
}
.clear{
  background:#555;
  color:#fff;
}

/* Result */
.result{
  background:#0f2d1c;
  border-radius:12px;
  padding:16px;
}
.result h3{
  margin-top:0;
  color:#7cfc98;
}
.result .value{
  font-size:20px;
  font-weight:800;
}

/* Mobile */
@media(max-width:800px){
  .panel{
    grid-template-columns:1fr;
  }
}
</style>
</head>

<body>
<div class="container">

<h1>Advanced Financial Calculator</h1>
<p class="subtitle">Time Value of Money (TVM) Calculator for Students & Professionals</p>

<div class="tabs">
  <div class="tab active" onclick="setMode('FV',this)">FV</div>
  <div class="tab" onclick="setMode('PV',this)">PV</div>
  <div class="tab" onclick="setMode('PMT',this)">PMT</div>
  <div class="tab" onclick="setMode('N',this)">N</div>
  <div class="tab" onclick="setMode('IY',this)">I/Y</div>
</div>

<div class="panel">
  <div class="form">
    <label>N (Number of periods)</label>
    <input id="n" value="10">

    <label>I/Y (Interest % per year)</label>
    <input id="r" value="6">

    <label>PV (Present Value)</label>
    <input id="pv" value="20000">

    <label>PMT (Periodic Payment)</label>
    <input id="pmt" value="-2000">

    <div class="buttons">
      <button class="calc" onclick="calculate()">Calculate</button>
      <button class="clear" onclick="clearAll()">Clear</button>
    </div>
  </div>

  <div class="result">
    <h3>Results</h3>
    <div id="resultText">—</div>
    <div class="value" id="resultValue"></div>
  </div>
</div>

</div>

<script>
let mode="FV";

function setMode(m,el){
  mode=m;
  document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
  el.classList.add("active");
}

function val(id){ return Number(document.getElementById(id).value) }

function calculate(){
  const n=val("n");
  const r=val("r")/100;
  const pv=val("pv");
  const pmt=val("pmt");

  let res;

  if(mode==="FV"){
    res = pv*Math.pow(1+r,n) + pmt*((Math.pow(1+r,n)-1)/r);
    show("Future Value (FV)",res);
  }

  if(mode==="PV"){
    res = (pmt*((1-Math.pow(1+r,-n))/r)) - (pv/Math.pow(1+r,n));
    show("Present Value (PV)",res);
  }

  if(mode==="PMT"){
    res = (pv*r)/(1-Math.pow(1+r,-n));
    show("Periodic Payment (PMT)",res);
  }

  if(mode==="N"){
    res = Math.log(pmt/(pmt-pv*r)) / Math.log(1+r);
    show("Number of Periods (N)",res);
  }

  if(mode==="IY"){
    let rate=0.1;
    for(let i=0;i<1000;i++){
      let f = pv*Math.pow(1+rate,n) + pmt*((Math.pow(1+rate,n)-1)/rate);
      let df = pv*n*Math.pow(1+rate,n-1);
      rate = rate - f/df;
    }
    show("Interest Rate (I/Y)",rate*100+" %");
    return;
  }
}

function show(label,value){
  document.getElementById("resultText").innerText=label;
  document.getElementById("resultValue").innerText=
    (typeof value==="number") ? "₹ "+value.toFixed(2) : value;
}

function clearAll(){
  ["n","r","pv","pmt"].forEach(id=>document.getElementById(id).value="");
  document.getElementById("resultText").innerText="—";
  document.getElementById("resultValue").innerText="";
}
</script>

</body>
</html>
